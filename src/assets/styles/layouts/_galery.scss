@use "../variables" as vars;
@use "../funciones" as fn;

@layer base {
  .gallery {
    padding: 2svh; 
    background-color: var(--paper); 
    text-align: center;

    max-width: 153ch;         
    margin: 0 auto;          
    container-type: inline-size;
    container-name: gallery;
  }

  .gallery__title {
    font-size: fn.fluid(28px, 40px);
    margin-bottom: 4svh;
    color: var(--brand); 
  }

  .gallery__caption {
    font-size: fn.fluid(14px, 18px);
    font-style: italic;
    color: var(--ink); 
  }
}

@layer components {
  .gallery__grid {
    display: flex;
    flex-wrap: wrap;
    gap: 2lvw; 
    justify-content: center;
    margin-top: vars.$space-4;
  }

  .gallery__item {
    flex: 1 1 calc(33.333% - 2lvw);
    max-width: calc(33.333% - 2lvw);
    background: var(--border); 
    border-radius: fn.to-rem(8);
    padding: 1cqmin; 
    transition: transform 0.3s ease;

    &:hover {
      transform: scale(1.05);
      background: var(--accent); 
    }
  }

  .gallery__photo {
    width: 100%;
    height: 500px;
    object-fit: cover;
    display: block;
    border-radius: fn.to-rem(6);
    margin-bottom: vars.$space-2;
  }
}

@layer overrides {
  .gallery__item:has(img:hover) {
    outline: fn.to-rem(3) solid var(--accent); 
  }

  .gallery__grid :is(.gallery__caption, .gallery__photo) {
    transition: opacity 0.3s ease;
  }

  .modal-content {
    border-radius: fn.to-rem(12);
    background-color: var(--paper); 
  }

  .modal-title {
    font-size: fn.fluid(20px, 28px);
    color: var(--brand); 
  }

  .modal-body img {
    max-height: 60svh; 
    object-fit: cover;
  }
}
