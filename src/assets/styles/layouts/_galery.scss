@use "../variables" as vars;
@use "../funciones" as fn;

@layer base {
  .gallery {
    padding: 2svh; 
    background-color: color(display-p3 0.9 0.85 0.7); 
    text-align: center;
  }

  .gallery__title {
    font-size: fn.fluid(28px, 40px);
    margin-bottom: 4svh;
    color: oklch(60% 0.15 40); 
  }

  .gallery__caption {
    font-size: fn.fluid(14px, 18px);
    font-style: italic;
    color: var(--ink);
  }
}

@layer components {
  .gallery__grid {
    display: flex;
    flex-wrap: wrap;
    gap: 2lvw; 
    justify-content: center;
  }

  .gallery__item {
    flex: 1 1 calc(33.333% - 2lvw);
    max-width: calc(33.333% - 2lvw);
    background: hwb(200 30% 20%); 
    border-radius: fn.to-rem(8);
    padding: 1cqmin; 
    transition: transform 0.3s ease;

    &:hover {
      transform: scale(1.05);
    }
  }

  .gallery__photo {
    width: 100%;
    height: auto;
    border-radius: fn.to-rem(6);
    margin-bottom: vars.$space-2;
  }
}

@layer overrides {
  .gallery__item:has(img:hover) {
    outline: fn.to-rem(3) solid oklch(70% 0.2 120);
  }

  .gallery__grid :is(.gallery__caption, .gallery__photo) {
    transition: opacity 0.3s ease;
  }

  .modal-content {
    border-radius: fn.to-rem(12);
    background-color: oklch(95% 0.05 80); 
  }

  .modal-title {
    font-size: fn.fluid(20px, 28px);
    color: var(--brand);
  }

  .modal-body img {
    max-height: 60svh; 
    object-fit: cover;
  }
}
